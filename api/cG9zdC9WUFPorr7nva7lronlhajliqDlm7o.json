{"title":"给VPS加固安全设置","date":"2018-10-13T17:02:15.000Z","slug":"VPS设置安全加固","tags":["other","配置"],"updated":"2018-10-21T12:41:30.537Z","content":"<h2 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数\"></a>参数</h2><ol>\n<li>系统：CentOS 7</li>\n<li>运行内存：500M</li>\n<li>内存：500G</li>\n</ol>\n<h2 id=\"默认端口\"><a href=\"#默认端口\" class=\"headerlink\" title=\"默认端口\"></a>默认端口</h2><ol>\n<li>修改默认的端口</li>\n</ol>\n<h2 id=\"账户安全管理\"><a href=\"#账户安全管理\" class=\"headerlink\" title=\"账户安全管理\"></a>账户安全管理</h2><h3 id=\"修改密码长度\"><a href=\"#修改密码长度\" class=\"headerlink\" title=\"修改密码长度\"></a>修改密码长度</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/login.defs</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">PASS_MIN_LEN 18</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"修改加密密码算法\"><a href=\"#修改加密密码算法\" class=\"headerlink\" title=\"修改加密密码算法\"></a>修改加密密码算法</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/login.defs</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">ENCRYPT_METHOD SHA512</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"denyhosts减缓暴力试错错误\"><a href=\"#denyhosts减缓暴力试错错误\" class=\"headerlink\" title=\"denyhosts减缓暴力试错错误\"></a>denyhosts减缓暴力试错错误</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install epel-release  # 安装Epel存储库来安装denyhosts软件包</span><br><span class=\"line\">yum install denyhosts </span><br><span class=\"line\">vi /etc/denyhosts.conf</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 参考修改如下：</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> DENY_THRESHOLD_INVALID = 5</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> DENY_THRESHOLD_VALID = 10</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> DENY_THRESHOLD_ROOT = 10</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> DENY_THRESHOLD_RESTRICTED = 1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"创建普通用户账户\"><a href=\"#创建普通用户账户\" class=\"headerlink\" title=\"创建普通用户账户\"></a>创建普通用户账户</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd pinksmallfan</span><br><span class=\"line\">passwd pinksmallfan</span><br></pre></td></tr></table></figure>\n<h3 id=\"禁用不用的账号\"><a href=\"#禁用不用的账号\" class=\"headerlink\" title=\"禁用不用的账号\"></a>禁用不用的账号</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">who /var/log/wtmp\t#查看用户登录的状态</span><br><span class=\"line\"></span><br><span class=\"line\">vi /etc/passwd  #查看账号</span><br><span class=\"line\">vi /etc/group\t#查看系统的用户组</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /etc/passwd\t\t<span class=\"comment\"># /sbin/nologin的用户就不要删啦！不然会重启会导致进不去登录页面，以下#的执行</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel bin </span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel daemon</span></span><br><span class=\"line\">userdel adm</span><br><span class=\"line\">userdel lp</span><br><span class=\"line\">userdel sync</span><br><span class=\"line\">userdel shutdown</span><br><span class=\"line\">userdel operator</span><br><span class=\"line\">userdel ftp</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel mail</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel nobody</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel systemd-bus-proxy</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel system-network</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel dbus</span></span><br><span class=\"line\">userdel tss</span><br><span class=\"line\">userdel sshd</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel postix</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> userdel chrony</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /etc/group</span></span><br><span class=\"line\">groupdel adm</span><br><span class=\"line\">groupdel lp</span><br><span class=\"line\">groupdel news</span><br><span class=\"line\">groupdel uucp</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel sys</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel tty</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel disk</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel mem</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel kmem</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel wheel</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel cdrom</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> <span class=\"comment\"># groupdel mail</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel man</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel dialout</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel floppy</span></span><br><span class=\"line\">groupdel games</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel tape</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel video</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel lock</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel audio</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel users</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel utmp</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel utempter</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel input</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel systemd-journal</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel ssh_keys</span></span><br><span class=\"line\">groupdel dip</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> groupdel postdrop</span></span><br><span class=\"line\">groupdel pppusers</span><br></pre></td></tr></table></figure>\n<h3 id=\"禁用非授权用户获得权限\"><a href=\"#禁用非授权用户获得权限\" class=\"headerlink\" title=\"禁用非授权用户获得权限\"></a>禁用非授权用户获得权限</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chattr +i /etc/passwd</span><br><span class=\"line\">chattr +i /etc/shadow</span><br><span class=\"line\">chattr +i /etc/group</span><br><span class=\"line\">chattr +i /etc/gshadow</span><br></pre></td></tr></table></figure>\n<p>ps: 如果想要创建用户or修改密码，就用chattr -i命令来恢复 </p>\n<h3 id=\"禁用ctrl-alt-delete命令\"><a href=\"#禁用ctrl-alt-delete命令\" class=\"headerlink\" title=\"禁用ctrl+alt+delete命令\"></a>禁用ctrl+alt+delete命令</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/inittab</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> ca::ctrlaltdel:/sbin/shutdown -t3 -r now <span class=\"comment\"># 注释</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"设置-etc-profile\"><a href=\"#设置-etc-profile\" class=\"headerlink\" title=\"设置/etc/profile\"></a>设置/etc/profile</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo \"TIMEOUT=3600\" &gt;&gt;/etc/profile</span><br><span class=\"line\">sed -i \"s/HISTSIZE=1000/HISTSIZE=10/\" /etc/profile</span><br><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置-etc-rcd-init-d-文件的许可权限\"><a href=\"#设置-etc-rcd-init-d-文件的许可权限\" class=\"headerlink\" title=\"设置/etc/rcd/init.d/文件的许可权限\"></a>设置/etc/rcd/init.d/文件的许可权限</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod -R 700 /etc/rcd/init.d/*</span><br></pre></td></tr></table></figure>\n<h2 id=\"ssh-安全配置\"><a href=\"#ssh-安全配置\" class=\"headerlink\" title=\"ssh 安全配置\"></a>ssh 安全配置</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install ssh</span><br><span class=\"line\">cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak</span><br><span class=\"line\">vi /etc/ssh/sshd_config</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> Port 22\t\t\t<span class=\"comment\"># 修改默认参考</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> PermitRootLogin no</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> PermitEmptyPasswords no</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> UseDns no</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"防止攻击\"><a href=\"#防止攻击\" class=\"headerlink\" title=\"防止攻击\"></a>防止攻击</h2><h3 id=\"防止ping\"><a href=\"#防止ping\" class=\"headerlink\" title=\"防止ping\"></a>防止ping</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 临时改防止ping</span></span><br><span class=\"line\">echo 1 &gt;/proc/sys/net/ipv4/icmp_echo_ignore_all</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 永久改防止ping</span></span><br><span class=\"line\">vi /etc/rc.d/rc.local </span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> <span class=\"built_in\">echo</span> 1 /proc/sys/net/ipv4/icmp_echo_ignore_all <span class=\"comment\">#添加</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"防止IP欺骗攻击\"><a href=\"#防止IP欺骗攻击\" class=\"headerlink\" title=\"防止IP欺骗攻击\"></a>防止IP欺骗攻击</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/host.conf</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> order <span class=\"built_in\">bind</span>, hosts</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> multi off</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> nospoof on</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"防止Dos攻击\"><a href=\"#防止Dos攻击\" class=\"headerlink\" title=\"防止Dos攻击\"></a>防止Dos攻击</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/security/limits.conf</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> hard core 0\t\t<span class=\"comment\">#禁止文件的调试</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> hard rss 5000\t\t<span class=\"comment\">#限制内存的使用，设定值为5MB</span></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> hard nproc 20\t\t<span class=\"comment\">#限制进程为20</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">vi /etc/pam.d/login</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> session required /lib64/security/pam_limits.so <span class=\"comment\">#添加，如果是32位系统用lib（不然可能会出现重启登录不上的问题，显示module is unknown，可以采用救援模式来修改回来，后面章节会讲）！64位用lib64</span></span></span><br></pre></td></tr></table></figure>\n<h2 id=\"系统配置-性能调优\"><a href=\"#系统配置-性能调优\" class=\"headerlink\" title=\"系统配置+性能调优\"></a>系统配置+性能调优</h2><h3 id=\"使用ntp服务更新服务器时间\"><a href=\"#使用ntp服务更新服务器时间\" class=\"headerlink\" title=\"使用ntp服务更新服务器时间\"></a>使用ntp服务更新服务器时间</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install ntp</span><br><span class=\"line\">ntpdate ntp.aliyun.com</span><br><span class=\"line\">crontab -e</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> * */12 * * * ntpdate tp.aliyun.com\t<span class=\"comment\">#将会根据vps所在地址更新时间源，比如上海17点，vps在美国，显示的是05点</span></span></span><br><span class=\"line\">cp /usr/share/zoneinfo/Asia/Shanghai/etc/localtime \t# 设置上海时间</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除系统相关信息\"><a href=\"#删除系统相关信息\" class=\"headerlink\" title=\"删除系统相关信息\"></a>删除系统相关信息</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo \"helloworld!\" &gt;/etc/issue</span><br><span class=\"line\">echo \"helloworld!\" &gt;/etc/redhat-release</span><br></pre></td></tr></table></figure>\n<h2 id=\"系统备份与应急处理\"><a href=\"#系统备份与应急处理\" class=\"headerlink\" title=\"系统备份与应急处理\"></a>系统备份与应急处理</h2><h3 id=\"设置系统镜像\"><a href=\"#设置系统镜像\" class=\"headerlink\" title=\"设置系统镜像\"></a>设置系统镜像</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 备份镜像</span></span><br><span class=\"line\">tar cvpzf back_up.tgz --exclude=/proc --exclude=/lost+found --exclude=/mnt --exclude=/sys --exclude=back_up.tgz /</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 将proc、lost+found、mnt、sys、back_up.tgz自身都排除掉，不列入备份的一部分</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">还原镜像</span></span><br><span class=\"line\">tar xvpzf back_up.tgz -C /</span><br></pre></td></tr></table></figure>\n<h3 id=\"rescue-mode进入原系统\"><a href=\"#rescue-mode进入原系统\" class=\"headerlink\" title=\"rescue mode进入原系统\"></a>rescue mode进入原系统</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> rescue mode（救援模式）</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 进入系统后，查看原系统的挂载路径</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 会出现一个大的，和一个小的boot，其中通常小的boot即救援模式的linux</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 比如，我的vps下，进入救援模式，会有两个设备，/dev/vda和/dev/vdb，与对应boot的/dev/vda1和/dev/vdb1,另外也可以通过df -h查看当前的挂载情况</span></span><br><span class=\"line\">fdisk -l</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 创建两个路径用来挂载</span></span><br><span class=\"line\">mkdir /mnt/linux</span><br><span class=\"line\">mkdir /mnt/linux/boot</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 将设备vdb挂载在linux下，boot的vdb1挂载在linux/boot下</span></span><br><span class=\"line\">mount /dev/vdb/ /mnt/linux/</span><br><span class=\"line\">mount /dev/vdb1/ /mnt/linux/boot</span><br><span class=\"line\">chroot /mnt/linux/boot</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /mnt/linux/root/目录下就是对应原系统的/</span></span><br><span class=\"line\">ls -l /mnt/linux/boot/</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ol>\n<li><p><a href=\"https://blog.csdn.net/shentianzhi2009/article/details/40340941\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/shentianzhi2009/article/details/40340941</a></p>\n</li>\n<li><p>解决Module is notknow <a href=\"https://blog.csdn.net/lzx_bupt/article/details/6792335\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/lzx_bupt/article/details/6792335</a></p>\n</li>\n<li>镜像备份：<a href=\"https://www.jianshu.com/p/69ce20effe7d?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/69ce20effe7d?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation</a></li>\n</ol>\n","prev":{"title":"write to my brother","slug":"2018-10-15-write-to-my-brother"},"next":{"title":"mvn的使用","slug":"mvn的使用"},"link":"http://wenchongjiaokou.info./2018/10/14/VPS设置安全加固/","toc":[{"title":"参数","id":"参数","index":"1"},{"title":"默认端口","id":"默认端口","index":"2"},{"title":"账户安全管理","id":"账户安全管理","index":"3","children":[{"title":"修改密码长度","id":"修改密码长度","index":"3.1"},{"title":"修改加密密码算法","id":"修改加密密码算法","index":"3.2"},{"title":"denyhosts减缓暴力试错错误","id":"denyhosts减缓暴力试错错误","index":"3.3"},{"title":"创建普通用户账户","id":"创建普通用户账户","index":"3.4"},{"title":"禁用不用的账号","id":"禁用不用的账号","index":"3.5"},{"title":"禁用非授权用户获得权限","id":"禁用非授权用户获得权限","index":"3.6"},{"title":"禁用ctrl+alt+delete命令","id":"禁用ctrl-alt-delete命令","index":"3.7"},{"title":"设置/etc/profile","id":"设置-etc-profile","index":"3.8"},{"title":"设置/etc/rcd/init.d/文件的许可权限","id":"设置-etc-rcd-init-d-文件的许可权限","index":"3.9"}]},{"title":"ssh 安全配置","id":"ssh-安全配置","index":"4"},{"title":"防止攻击","id":"防止攻击","index":"5","children":[{"title":"防止ping","id":"防止ping","index":"5.1"},{"title":"防止IP欺骗攻击","id":"防止IP欺骗攻击","index":"5.2"},{"title":"防止Dos攻击","id":"防止Dos攻击","index":"5.3"}]},{"title":"系统配置+性能调优","id":"系统配置-性能调优","index":"6","children":[{"title":"使用ntp服务更新服务器时间","id":"使用ntp服务更新服务器时间","index":"6.1"},{"title":"删除系统相关信息","id":"删除系统相关信息","index":"6.2"}]},{"title":"系统备份与应急处理","id":"系统备份与应急处理","index":"7","children":[{"title":"设置系统镜像","id":"设置系统镜像","index":"7.1"},{"title":"rescue mode进入原系统","id":"rescue-mode进入原系统","index":"7.2"}]},{"title":"参考资料","id":"参考资料","index":"8"}]}