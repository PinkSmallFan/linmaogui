{"title":"VPS搭建hexo私人blog","date":"2018-10-20T16:01:55.000Z","slug":"blog+hexo+vps","tags":["other","配置"],"updated":"2018-10-21T13:23:38.551Z","content":"<h2 id=\"前提条件\"><a href=\"#前提条件\" class=\"headerlink\" title=\"前提条件\"></a>前提条件</h2><h3 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数\"></a>参数</h3><h4 id=\"VPS\"><a href=\"#VPS\" class=\"headerlink\" title=\"VPS\"></a>VPS</h4><ol>\n<li><p><strong>Location</strong>    Los Angeles</p>\n</li>\n<li><p><strong>CPU Cores</strong>    1 x 2.1 GHz</p>\n</li>\n<li><p><strong>RAM</strong>                512 x MB</p>\n</li>\n<li><p><strong>Space</strong>              15 x GB</p>\n</li>\n<li><p><strong>Number of IPs</strong>   1 x IPv4</p>\n</li>\n<li><p><strong>Number of IPv6 Address</strong>   1 x IPv6</p>\n</li>\n<li><p><strong>Bandwidth</strong>          500 x GB</p>\n</li>\n</ol>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><h3 id=\"域名\"><a href=\"#域名\" class=\"headerlink\" title=\"域名\"></a>域名</h3><h3 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h3><h3 id=\"hexo博客\"><a href=\"#hexo博客\" class=\"headerlink\" title=\"hexo博客\"></a>hexo博客</h3><h3 id=\"vps\"><a href=\"#vps\" class=\"headerlink\" title=\"vps\"></a>vps</h3><h3 id=\"远程工具\"><a href=\"#远程工具\" class=\"headerlink\" title=\"远程工具\"></a>远程工具</h3><h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><h2 id=\"搭建流程\"><a href=\"#搭建流程\" class=\"headerlink\" title=\"搭建流程\"></a>搭建流程</h2><h3 id=\"安装Git\"><a href=\"#安装Git\" class=\"headerlink\" title=\"安装Git\"></a>安装Git</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y git</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装nodeJs\"><a href=\"#安装nodeJs\" class=\"headerlink\" title=\"安装nodeJs\"></a>安装nodeJs</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y nodejs</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y nginx</span><br></pre></td></tr></table></figure>\n<h3 id=\"检查安装情况\"><a href=\"#检查安装情况\" class=\"headerlink\" title=\"检查安装情况\"></a>检查安装情况</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git --version\t\t# 1.8.3.1</span><br><span class=\"line\">node -v\t\t\t\t# v10.12.0   or node --version</span><br><span class=\"line\">nginx -v\t\t\t# nginx/1.12.2</span><br></pre></td></tr></table></figure>\n<h3 id=\"配置Nginx\"><a href=\"#配置Nginx\" class=\"headerlink\" title=\"配置Nginx\"></a>配置Nginx</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> 进入nginx路径，默认为这个路径，如果没有，可以 find / -name \"nginx\" 找一找</span><br><span class=\"line\">cd /etc/nginx</span><br><span class=\"line\">cp nginx.conf nginx.conf.bak\t# 习惯性备份</span><br><span class=\"line\">vi nginx.conf\t\t\t\t\t# 编辑nginx.conf</span><br></pre></td></tr></table></figure>\n<p>修改nginx.conf的user节点</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user gui;</span><br></pre></td></tr></table></figure>\n<p>修改nginx.conf的server节点</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">\tlisten       80 default_server;</span><br><span class=\"line\">    listen       [::]:80 default_server;</span><br><span class=\"line\">    server_name  www.wenchongjiaokou.info wenchongjiaokou.info;</span><br><span class=\"line\">    root         /home/gui/blog/;</span><br><span class=\"line\"></span><br><span class=\"line\">    # Load configuration files for the default server block.</span><br><span class=\"line\">    include /etc/nginx/default.d/*.conf;</span><br><span class=\"line\"></span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    error_page 404 /404.html;</span><br><span class=\"line\">    \tlocation = /40x.html &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    error_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">        location = /50x.html &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"启动Nginx\"><a href=\"#启动Nginx\" class=\"headerlink\" title=\"启动Nginx\"></a>启动Nginx</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service nginx start\t\t# 启动nginx\t\tor systemctl start nginx</span><br><span class=\"line\">service nginx status \t# 查看nginx状态\t\tor systemctl status nginx,active(running)就OK</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装Git用户\"><a href=\"#安装Git用户\" class=\"headerlink\" title=\"安装Git用户\"></a>安装Git用户</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adduser git</span><br><span class=\"line\">chmod 740 /etc/sudoers</span><br><span class=\"line\">vi /etc/sudoers</span><br></pre></td></tr></table></figure>\n<p>将git赋予执行sudoers权限的作用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xxc ALL=(ALL) ALL</span><br><span class=\"line\"><span class=\"meta\">#</span> 作用：允许系统管理员让普通用户执行一些或者全部的root命令，但是没有root权限访问，依旧是用户的身份</span><br></pre></td></tr></table></figure>\n<p>将权限保存回原来的样子</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 400 /etc/sudoers</span><br></pre></td></tr></table></figure>\n<h3 id=\"给Git用户配置ssh\"><a href=\"#给Git用户配置ssh\" class=\"headerlink\" title=\"给Git用户配置ssh\"></a>给Git用户配置ssh</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /home/xxc</span><br><span class=\"line\">mkdir ~/.ssh</span><br><span class=\"line\">vi ~/.ssh/git_authorzied_keys\t\t# 将本地机子的xxxx.pub公钥文件文本打开，拷贝编码值粘贴此处</span><br><span class=\"line\">chmod 600 ~/.ssh/git_authorzied_keys</span><br><span class=\"line\">chmod 700 ~/.ssh</span><br></pre></td></tr></table></figure>\n<h3 id=\"本地git访问服务器\"><a href=\"#本地git访问服务器\" class=\"headerlink\" title=\"本地git访问服务器\"></a>本地git访问服务器</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -v git@服务器地址\t\t\t# 服务器地址：ip地址、域名地址</span><br></pre></td></tr></table></figure>\n<h3 id=\"建立git目录\"><a href=\"#建立git目录\" class=\"headerlink\" title=\"建立git目录\"></a>建立git目录</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /home/xxc</span><br><span class=\"line\">git init --bare xxxd.git\t\t# 初始化一个xxxd.init，可通过ls查看创建文件</span><br></pre></td></tr></table></figure>\n<h2 id=\"注意点\"><a href=\"#注意点\" class=\"headerlink\" title=\"注意点\"></a>注意点</h2><h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ol>\n<li>VPS搭建个人博客：<a href=\"https://www.xksblog.top/use-VPS-to-build-personal-Hexo-blog.html\" target=\"_blank\" rel=\"noopener\">https://www.xksblog.top/use-VPS-to-build-personal-Hexo-blog.html</a></li>\n<li></li>\n</ol>\n","prev":{"title":"Namesilp购买域名","slug":"Namesilp购买域名"},"next":{"title":"锻炼PC肌","slug":"PC肌的锻炼"},"link":"http://wenchongjiaokou.info/WenChongAndJiaoKou/2018/10/21/blog+hexo+vps/","toc":[{"title":"前提条件","id":"前提条件","index":"1","children":[{"title":"参数","id":"参数","index":"1.1","children":[{"title":"VPS","id":"VPS","index":"1.1.1"}]}]},{"title":"搭建流程","id":"搭建流程","index":"2","children":[{"title":"安装Git","id":"安装Git","index":"2.1"},{"title":"安装nodeJs","id":"安装nodeJs","index":"2.2"},{"title":"安装Nginx","id":"安装Nginx","index":"2.3"},{"title":"检查安装情况","id":"检查安装情况","index":"2.4"},{"title":"配置Nginx","id":"配置Nginx","index":"2.5"},{"title":"启动Nginx","id":"启动Nginx","index":"2.6"},{"title":"安装Git用户","id":"安装Git用户","index":"2.7"},{"title":"给Git用户配置ssh","id":"给Git用户配置ssh","index":"2.8"},{"title":"本地git访问服务器","id":"本地git访问服务器","index":"2.9"},{"title":"建立git目录","id":"建立git目录","index":"2.10"}]},{"title":"参考","id":"参考","index":"3"}]}